@page "/calculodias"
@rendermode InteractiveServer

<h3>Calcula el Número de Días del Mes</h3>

<div>
    <label>Mes (1-12): </label>
    <input type="number" @bind="mes" min="1" max="12" />
</div>
<div>
    <label>Año: </label>
    <input type="number" @bind="anio" min="1" />
</div>
<div>
    <button @onclick="MostrarDias">Mostrar número de días</button>
</div>

@if (!string.IsNullOrEmpty(mensaje))
{
    <p>@mensaje</p>
}

@code {
    private int mes;
    private int anio;
    private string mensaje;

    private void MostrarDias()
    {
        try
        {
            int dias = ObtenerDiasDelMes(mes, anio);
            mensaje = $"El mes {mes} del año {anio} tiene {dias} días.";
        }
        catch (ArgumentException ex)
        {
            mensaje = ex.Message;
        }
    }

    private int ObtenerDiasDelMes(int mes, int anio)
    {
        switch (mes)
        {
            case 1:
            case 3:
            case 5:
            case 7:
            case 8:
            case 10:
            case 12:
                return 31;
            case 4:
            case 6:
            case 9:
            case 11:
                return 30;
            case 2:
                return EsAnioBisiesto(anio) ? 29 : 28;
            default:
                throw new ArgumentException("Mes inválido. Ingrese un valor entre 1 y 12.");
        }
    }

    private bool EsAnioBisiesto(int anio)
    {
        return (anio % 4 == 0 && anio % 100 != 0) || (anio % 400 == 0);
    }
}